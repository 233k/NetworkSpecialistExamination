# BGP

AS間を接続するルーティングプロトコル。

- 経路制御：パスベクトル方式
- 下位プロトコル：TCP

## 経路選択

パスアトリビュートは、経路の候補の中からベストパスを選択するために用いられる。様々なパスアトリビュートに対して優先順位が設定されることにより、自ら定めたポリシに基づいてベストパスが選択される。

パスアトリビュートの一つに、AS_PATHがある。これはネットワークに至る経路となるAS番号の羅列を表す。

## BGPピア

- BGPピア：BGP接続をおこなう２台のルータ間で構築されるTCP/179を利用するコネクション。経路情報の交換が行われる
- eBGPピア：異なるASに属するルータ間のBGPピア
- iBGPピア：同じASに属するルータ間のBGPピア

以下の設定により、AS内でBGPルータからの経路情報を配布かつルーティングループを回避することができる。

- iBGPピアは、AS内の全てのBGPルータ同士でフルメッシュ接続
- iBGPピアを張る相手から学習した経路情報は、他のiBGPピアに通知しない

eBGPでは、AS_PATHがあるため、ルーティングループに気づくことができる。
