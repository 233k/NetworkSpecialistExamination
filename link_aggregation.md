# NICチーミング

- 複数のNICを論理的に一つに束ねる
- OSからは一つのNICに見える
- Active / Stanby もしくは Active / Active 構成をとる

## Active/Stanbyの冗長化構成時に切り替わる方法

1. リンクダウンを検出するよう設定し、リンクステートトラッキング機能のついたL2SWを使用する
2. チーミングしているNICからARP要求パケットを定期的に送信し、応答がなかったらフェールオーバーする
3. チーミングしているNICからブロードキャストパケット（ビーコン）を定期的に送信して、NIC間で相互に監視する（NICが3つ以上の場合に有効）

## リンクステートトラッキング

下位ポートのリンク状態を、上位ポートのリンク状態に追随させる機能

# リンクアグリゲーション

- リンクアグリゲーションは、同一のスイッチ内、同一のNICチーム内のみ使用可能（スイッチ - スイッチ間も可能）
- スタック接続されたスイッチは論理的に１台のスイッチとして動作
- フレームは、クライアントからサーバへは送信元MACアドレス、サーバからクライアントへは宛先MACアドレスに基づいて振り分けると効果的

```
+------------+
|            |  Link Aggregation
|   Server   |
|            |
|      +-----+          +---------------+
|      |     |     X    |               |
|      | NIC +----X-----+ Switching Hub |
|      |     |   X   X  |               |
|      +-----+   X   X  +-------+-------+
|            |   X   X          |           Stack Connection
|      +-----+   X   X  +-------+-------+
|      |     |   X   X  |               |
|      | NIC +----X-----+ Switching Hub |
|      |     |     X    |               |
|      +-----+          +---------------+
|            |
+------------+

      NIC Teaming
    Active / Active
```

# NICチーミングとリンクアグリゲーションの目的

- 帯域増大
- 冗長化
- 負荷分散

NICチーミングの場合、Active/Stanbyの構成による目的が変わる。
